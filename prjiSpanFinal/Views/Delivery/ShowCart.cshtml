
@{
    ViewData["Title"] = "ShowCart";
}

@section Styles{ 
    <style>
        .itemImgDiv{
            width:200px;
            aspect-ratio:1/1;
        }
        .itemImgDiv img{
            width:100%;
            aspect-ratio:1/1;
            object-fit:contain;
        }
        .countMinus, .countPlus {
            width: 20px;
            aspect-ratio: 1/1;
            border: 1px solid #7B7B7B;
        }
        .countMinus{
            border-radius:5px 0 0 5px;
        }
        .countPlus{
            border-radius:0 5px 5px 0;
        }
        .itemCount{
            border:1px solid #7B7B7B;
            text-align:center;
            width:100px;
        }
    </style>
}

<h4>購物車</h4>

<div class="w-75 m-auto">
    <div class="mb-2 border rounded-2 px-2 py-3">
        <div class="form-check border-bottom">
            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
            <label class="form-check-label" for="flexCheckDefault">林小偉的賣場</label>
        </div>
        <div class="form-check border-bottom d-flex justify-content-start align-items-center">
            <div>
                <input class="form-check-input" type="checkbox" value="" id="product1" checked>
            </div>
            <div class="itemImgDiv">
                <img src="~/img/product01.png" />
            </div>
            <div>
                <label class="form-check-label" for="product1">108樂購 魔飛Morph RGB光 影音耳機 電競藍芽 耳罩耳機 運動耳機 跑步耳機 保固一個月 【3C6801】</label>
                <div class="text-black-50">白色，附32g千首歌</div>
                <div class="text-danger">$838</div>
            </div>
            <div class="d-flex">
                <button class="countMinus">-</button>
                <input type="text" name="Count" class="itemCount" value="1" min="1" />
                <button class="countPlus">+</button>
            </div>
        </div>
    </div>
    <div class="mb-2 border rounded-2 px-2 py-3">
        <div class="form-check border-bottom">
            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
            <label class="form-check-label" for="flexCheckDefault">林小偉的賣場</label>
        </div>
        <div class="form-check border-bottom d-flex justify-content-start align-items-center">
            <div>
                <input class="form-check-input" type="checkbox" value="" id="product1" checked>
            </div>
            <div class="itemImgDiv">
                <img src="~/img/product01.png" />
            </div>
            <div>
                <label class="form-check-label" for="product1">108樂購 魔飛Morph RGB光 影音耳機 電競藍芽 耳罩耳機 運動耳機 跑步耳機 保固一個月 【3C6801】</label>
                <div class="text-black-50">白色，附32g千首歌</div>
                <div class="text-danger">$838</div>
            </div>
            <div class="d-flex">
                <button class="countMinus">-</button>
                <input type="text" name="Count" class="itemCount" value="1" min="1" />
                <button class="countPlus">+</button>
            </div>
        </div>
    </div>
</div>

@section Scripts{ 
    <script>
        $(function () {
            if ($(".itemCount").val() == 1) {
                $(".countMinus").attr("disabled", true).css("color", "#D0D0D0");
            }
        });
        $(".countMinus").click(function () {
            let value = Number($(this).next(".itemCount").val()) -1;
            $(this).next(".itemCount").val(value);
            if ($(this).next(".itemCount").val() == 1) {
                $(this).attr("disabled", true).css("color", "#D0D0D0");
            }
            
        });
        $(".countPlus").click(function () {
            let value = Number($(this).prev(".itemCount").val()) + 1;
            $(this).prev(".itemCount").val(value);
            if ($(this).prev(".itemCount").val() != 1) {
                $(this).siblings(".countMinus").attr("disabled", false).css("color", "#000000");
            }
        });

    </script>    
}